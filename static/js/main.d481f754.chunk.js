(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(16),u=t(18),i=t(116),l=t(5),o=t(19),s=t.n(o);function f(e,n){return e}var d=t(70),m=t(13),b=Object(a.createContext)(null),p=b.Provider;b.Consumer;function h(e){var n=Object(a.useContext)(b),t=Object(a.useState)([]),r=Object(l.a)(t,2),c=r[0],u=r[1],i=Object(a.useRef)(!0),o=function(e){i.current&&u(function(n){return n.filter(function(n){return n.token!==e})})},f=Object(a.useCallback)(function(){var t=e.apply(void 0,arguments),a=s.a.CancelToken.source();return{ready:function(){return u(function(e){return[].concat(Object(m.a)(e),[a])}),n(Object(d.a)({},t,{cancelToken:a.token})).then(function(e){return o(a.token),e.data}).catch(function(e){throw o(a.token),function(e){var n=e.response?e.response.data:null;return{data:n,message:e.message,code:n&&n.code||e.code||e.response&&e.response.status,isCancel:s.a.isCancel(e)}}(e)})},cancel:a.cancel}},[n]),p=Object(a.useCallback)(function(e){c.length>0&&(c.map(function(n){return n.cancel(e)}),i.current&&u([]))},[c]),h=Object(a.useRef)(p);return Object(a.useEffect)(function(){h.current=p}),Object(a.useEffect)(function(){return function(){h.current(),i.current=!1}},[]),[{clear:function(e){return h.current(e)},hasPending:c.length>0},f]}function g(e,n){var t=h(e),r=Object(l.a)(t,2),c=r[0],u=c.clear,i=c.hasPending,o=r[1],s=Object(a.useState)(null),f=Object(l.a)(s,2),d=f[0],b=f[1],p=Object(a.useState)(null),g=Object(l.a)(p,2),E=g[0],O=g[1],j=Object(a.useCallback)(function(){u("A new request has been made before completing the last one");for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var a=o.apply(void 0,Object(m.a)(n)),r=a.ready,c=a.cancel;return r().then(function(e){O(e)}).catch(function(e){e.isCancel||b(e)}),c},[]);return Object(a.useEffect)(function(){var e;return n&&(e=j.apply(void 0,Object(m.a)(n))),function(){e&&e()}},n),[{data:E,error:d,cancel:u,isLoading:i},j]}var E=function(e){var n=Object(u.b)(),t=Object(a.useState)(0),c=Object(l.a)(t,2),i=c[0],o=c[1],f=Object(a.useState)(null),d=Object(l.a)(f,2),m=d[0],b=d[1],h=function(t){return n({type:"@".concat(e.name," [").concat(t,"]")})},g=function(e){return o(function(e){return e+1}),h("START"),e},E=function(e){return h("SUCCESS"),e},O=function(e){return s.a.isCancel(e)?h("CANCEL"):h("ERROR"),Promise.reject(e)};return Object(a.useEffect)(function(){var e=s.a.create({baseURL:"https://5c564f1ed293090014c0ee3e.mockapi.io/api/v1"});e.interceptors.request.use(g),e.interceptors.response.use(E,O),b(function(){return e})},[]),m?r.a.createElement(p,{value:m},r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"REQUESTS: ",i),e.children)):null},O=t(71),j=t(111),v=t(117),x=t(119),w={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return f({method:"GET",url:"/users?limit=10&page=".concat(e)})},searchUser:function(e){return f({method:"GET",url:"/users?filter=".concat(e,"&limit=10")})}},C=t(22),S=t(1);function y(){var e=Object(C.a)(["\n   * {\n    border: 0;\n    box-sizing: inherit;\n    -webkit-font-smoothing: antialiased;\n    font-weight: inherit;\n    margin: 0;\n    outline: 0;\n    padding: 0;\n    text-decoration: none;\n    text-rendering: optimizeLegibility;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n  }\n\n  html {\n    display: flex;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    font-size: 16px;\n    line-height: 1.5;\n    background-color: #ffffff;\n    color: #16171a;\n    padding: 0;\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial,\n      sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n\n    max-width: 100%;\n  }\n\n  body {\n    flex-direction: column;\n    box-sizing: border-box;\n    min-width: 100%;\n    min-height: 100%; \n    -webkit-overflow-scrolling: touch;\n    display: flex;\n  }\n\n  a {\n    color: currentColor;\n    text-decoration: none;\n  }\n\n  a:hover {\n    cursor: pointer;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1;\n    background: linear-gradient(135deg, #5C33B8, #A267D7);\n  }\n"]);return y=function(){return e},e}function k(){var e=Object(C.a)(["\n  min-height: 128px;\n  margin: 8px;\n  padding: 16px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border-radius: 4px;\n  background-color: rgba(\n    253,\n    247,\n    255,\n    ","\n  );\n\n  img {\n    border-radius: 100%;\n    height: 64px;\n    margin-right: 12px;\n  }\n"]);return k=function(){return e},e}function U(){var e=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  overflow-y: auto;\n"]);return U=function(){return e},e}function L(){var e=Object(C.a)(["\n  display: flex;\n  max-width: 960px;\n  width: 100%;\n  margin: 6rem;\n  padding: 1rem;\n  flex-grow: 1;\n  flex-direction: column;\n  background-color: white;\n  border-radius: 6px;\n  overflow: hidden;\n  box-shadow: 0 16px 38px -12px rgba(0, 0, 0, 0.56),\n    0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2);\n\n  @media (max-width: 960px) {\n    max-width: calc(100% - 16px);\n    padding: 8px;\n  }\n"]);return L=function(){return e},e}function z(){var e=Object(C.a)(["\n  display: flex;\n  flex-direction: row;\n  min-width: 100%;\n  min-height: 48px;\n"]);return z=function(){return e},e}var _=S.default.div(z()),R=S.default.main(L()),T=S.default.div(U()),A=S.default.div(k(),function(e){return e.alpha?e.alpha%101/15:.1}),P=Object(S.createGlobalStyle)(y()),I=function(){var e=Object(a.useState)(1),n=Object(l.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)([]),i=Object(l.a)(u,2),o=i[0],s=i[1],f=g(w.getUsers,[t]),d=Object(l.a)(f,1)[0];return Object(a.useEffect)(function(){d.data&&s(function(e){return[].concat(Object(m.a)(e),Object(m.a)(d.data))})},[d.data]),r.a.createElement(O.a,{flex:!0,overflow:"auto",pad:"medium"},r.a.createElement(j.a,{step:9,items:o,onMore:function(){t<10&&c(function(e){return e+1})}},function(e,n){return r.a.createElement(A,{key:e.id,alpha:n+1},r.a.createElement(v.a,{src:e.avatar}),r.a.createElement(x.a,{size:"large"},e.name))}))},D=t(113),F=t(115),G=t(121),N=t(118);function X(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,t=Object(a.useState)(e),r=Object(l.a)(t,2),c=r[0],u=r[1],i=Object(a.useRef)(null),o=function(){null!==i.current&&clearInterval(i.current)};return Object(a.useEffect)(function(){return i.current=setTimeout(function(){u(e)},n),o},[e,n]),Object(a.useEffect)(function(){return o},[]),c}function B(){var e=Object(a.useState)("Gabriel"),n=Object(l.a)(e,2),t=n[0],c=n[1],u=X(t),i=g(w.searchUser,[u]),o=Object(l.a)(i,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{value:t,onChange:function(e){return c(e.target.value)}}),o.data&&o.data.map(function(e,n){return r.a.createElement(A,{key:e.id,alpha:n+1},r.a.createElement(v.a,{src:e.avatar}),r.a.createElement(x.a,{size:"large"},e.name))}))}var H=t(120),M=function(){var e=Object(a.useCallback)(function(e){return{usersList:e.usersListCached.data,page:e.usersListCached.currentPage}},[]),n=g(w.getUsers),t=Object(l.a)(n,2),c=t[0],i=t[1],o=Object(u.c)(e),s=o.page,f=o.usersList,d=Object(u.b)();return Object(a.useEffect)(function(){0===s&&i(1)},[]),Object(a.useEffect)(function(){c.data&&d({type:"CACHE_USERS",page:s+1,data:c.data})},[c.data]),r.a.createElement(O.a,{flex:!0,overflow:"auto",pad:"medium"},r.a.createElement(j.a,{step:9,items:f,onMore:function(){s<10&&i(s+1)}},function(e,n){return r.a.createElement(A,{key:e.id,alpha:n+1},r.a.createElement(v.a,{src:e.avatar}),r.a.createElement(x.a,{size:"large"},e.name))}))};function q(){var e=Object(a.useState)("Gabriel"),n=Object(l.a)(e,2),t=n[0],c=n[1],u=X(t),i=g(w.searchUser,[u]),o=Object(l.a)(i,1)[0],s=o.data,f=o.cancel;return Object(a.useEffect)(function(){u!==t&&f()},[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{value:t,onChange:function(e){return c(e.target.value)}}),s&&s.map(function(e,n){return r.a.createElement(A,{key:e.id,alpha:n+1},r.a.createElement(v.a,{src:e.avatar}),r.a.createElement(x.a,{size:"large"},e.name))}))}var J=[{label:"Users List",path:"/users-list"},{label:"Users List Cached",path:"/users-list-cached"},{label:"Search User",path:"/search-user"},{label:"Search User Optmized",path:"/search-user-optmized"}];var V=Object(G.a)(function(e){return a.createElement(a.Fragment,null,a.createElement(P,null),a.createElement(R,null,a.createElement(_,null,a.createElement(H.a,{label:"Examples",items:J.map(function(n){return{label:n.label,onClick:function(){return e.history.push(n.path)}}})})),a.createElement(T,null,a.createElement(D.a,{path:"/users-list-cached",render:function(){return a.createElement(E,{name:"users-list-cached"},a.createElement(M,null))}}),a.createElement(D.a,{path:"/users-list",render:function(){return a.createElement(E,{name:"users-list"},a.createElement(I,null))}}),a.createElement(D.a,{path:"/search-user",render:function(){return a.createElement(E,{name:"search-user"},a.createElement(B,null))}}),a.createElement(D.a,{path:"/search-user-optmized",render:function(){return a.createElement(E,{name:"search-user-optmized"},a.createElement(q,null))}}),a.createElement(D.a,{exact:!0,path:"/",render:function(){return a.createElement(F.a,{to:"/users-list"})}}))))}),Q=t(68),K={usersListCached:{currentPage:0,data:[]}};var W=Object(Q.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,n=arguments.length>1?arguments[1]:void 0;return"CACHE_USERS"===n.type?Object.assign({},e,{usersListCached:{currentPage:n.page,data:[].concat(Object(m.a)(e.usersListCached.data),Object(m.a)(n.data))}}):e},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.render(a.createElement(u.a.Provider,{value:W},a.createElement(i.a,null,a.createElement(V,null))),document.getElementById("root"))},74:function(e,n,t){e.exports=t(105)}},[[74,1,2]]]);
//# sourceMappingURL=main.d481f754.chunk.js.map